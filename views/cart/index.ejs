<!-- include header -->
<%- include('../include/_header') %>
  <!-- /include header -->


  <!--Section: Block Content-->
  <section>
    <!--Grid row-->
    <h1><i class="fas fa-shopping-cart"></i> Cart</h1>
    <div class="row">

      <!--Grid column-->
      <div class="col-lg-8">

        <!-- Card -->
        <div class="card wish-list mb-3">

          <div class="card-body">
            <% if(!products || products.length<=0) {%>
              <h5 class="mb-4">NO PORODUCT IN CART</h5>
              <% }else if(products && products.length> 0) {%>
                <% for (let product of products) {%>
                  <div class="row mb-4">
                    <div class="col-md-5 col-lg-3 col-xl-3">
                      <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                        <div class="mask waves-effect waves-light">
                          <img class="img-fluid w-100"
                            src="<%= product.productId.images[0] ? product.productId.images[0].url : 'https://res.cloudinary.com/dpig2x0hp/image/upload/v1620892502/Shop/depositphotos_247872612-stock-illustration-no-image-available-icon-vector_regfzz.jpg'%> ">
                          <div class="mask rgba-black-slight waves-effect waves-light"></div>
                        </div>
                        </a>
                      </div>
                    </div>

                    <div class="col-md-7 col-lg-9 col-xl-9">
                      <div>
                        <div class="d-flex justify-content-between">
                          <div class="col-6">
                            <h5>
                              <%= product.productId.title %>
                            </h5>
                            <p class="mb-3 text-muted text-uppercase small">
                              <%= product.productId.description%>
                            </p>

                          </div>

                          <div class="">
                            <!-- <input class="input_quantity" id="alice" min="0" name="quantity"type="number">
                          <p id="mirror"></p> -->
                            <h4>Qty: <%= product.quantity%>
                            </h4>
                          </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                          <div>
                            <form action="/cart/delete-item" method="POST">
                              <input type="hidden" value="<%= product.productId._id %>" name="productId">
                              <button class="btn btn-outline-danger" type="submit"><i class="fas fa-trash-alt"></i>
                                Delete</button>
                            </form>
                          </div>
                          <h2 class="mb-0"><span>฿<%= product.productId.price %></span></h2>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr class="mb-4">
                  <% } %>
                    <% } %>
                      <p class="text-primary mb-0"><i class="fas fa-info-circle mr-1"></i> Do not delay the purchase,
                        adding
                        items to your cart does not mean booking them.</p>

          </div>
        </div>
        <!-- Card -->


        <!-- Card -->
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="mb-4">Address </h5>
            <form action="/orders" method="POST">

              <div class="form-row">
                <div class="">
                  <label for="validationCustom01">First name</label>
                  <input type="text" class="form-control" id="validationCustom01" required name="firstName">
                  <div class="valid-feedback">
                    Looks good!
                  </div>
                </div>
                <div class="">
                  <label for="validationCustom02">Last name</label>
                  <input type="text" class="form-control" id="validationCustom02" required name="lastName">
                  <div class="valid-feedback">
                    Looks good!
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label for="inputAddress">Address</label>
                <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" name="address">
              </div>

              <div class="form-row">

                <div class="form-group">
                  <label for="inputCity">City</label>
                  <input type="text" class="form-control" id="inputCity" name="city">
                </div>

                <div class="form-group ">
                  <label for="inputState">State</label>
                  <select id="inputState" class="form-control" aria-label="Default select example" name="state">
                    <option selected>Choose...</option>
                    <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                    <option value="กระบี่">กระบี่ </option>
                    <option value="กาญจนบุรี">กาญจนบุรี </option>
                    <option value="กาฬสินธุ์">กาฬสินธุ์ </option>
                    <option value="กำแพงเพชร">กำแพงเพชร </option>
                    <option value="ขอนแก่น">ขอนแก่น</option>
                    <option value="จันทบุรี">จันทบุรี</option>
                    <option value="ฉะเชิงเทรา">ฉะเชิงเทรา </option>
                    <option value="ชัยนาท">ชัยนาท </option>
                    <option value="ชัยภูมิ">ชัยภูมิ </option>
                    <option value="ชุมพร">ชุมพร </option>
                    <option value="ชลบุรี">ชลบุรี </option>
                    <option value="เชียงใหม่">เชียงใหม่ </option>
                    <option value="เชียงราย">เชียงราย </option>
                    <option value="ตรัง">ตรัง </option>
                    <option value="ตราด">ตราด </option>
                    <option value="ตาก">ตาก </option>
                    <option value="นครนายก">นครนายก </option>
                    <option value="นครปฐม">นครปฐม </option>
                    <option value="นครพนม">นครพนม </option>
                    <option value="นครราชสีมา">นครราชสีมา </option>
                    <option value="นครศรีธรรมราช">นครศรีธรรมราช </option>
                    <option value="นครสวรรค์">นครสวรรค์ </option>
                    <option value="นราธิวาส">นราธิวาส </option>
                    <option value="น่าน">น่าน </option>
                    <option value="นนทบุรี">นนทบุรี </option>
                    <option value="บึงกาฬ">บึงกาฬ</option>
                    <option value="บุรีรัมย์">บุรีรัมย์</option>
                    <option value="ประจวบคีรีขันธ์">ประจวบคีรีขันธ์ </option>
                    <option value="ปทุมธานี">ปทุมธานี </option>
                    <option value="ปราจีนบุรี">ปราจีนบุรี </option>
                    <option value="ปัตตานี">ปัตตานี </option>
                    <option value="พะเยา">พะเยา </option>
                    <option value="พระนครศรีอยุธยา">พระนครศรีอยุธยา </option>
                    <option value="พังงา">พังงา </option>
                    <option value="พิจิตร">พิจิตร </option>
                    <option value="พิษณุโลก">พิษณุโลก </option>
                    <option value="เพชรบุรี">เพชรบุรี </option>
                    <option value="เพชรบูรณ์">เพชรบูรณ์ </option>
                    <option value="แพร่">แพร่ </option>
                    <option value="พัทลุง">พัทลุง </option>
                    <option value="ภูเก็ต">ภูเก็ต </option>
                    <option value="มหาสารคาม">มหาสารคาม </option>
                    <option value="มุกดาหาร">มุกดาหาร </option>
                    <option value="แม่ฮ่องสอน">แม่ฮ่องสอน </option>
                    <option value="ยโสธร">ยโสธร </option>
                    <option value="ยะลา">ยะลา </option>
                    <option value="ร้อยเอ็ด">ร้อยเอ็ด </option>
                    <option value="ระนอง">ระนอง </option>
                    <option value="ระยอง">ระยอง </option>
                    <option value="ราชบุรี">ราชบุรี</option>
                    <option value="ลพบุรี">ลพบุรี </option>
                    <option value="ลำปาง">ลำปาง </option>
                    <option value="ลำพูน">ลำพูน </option>
                    <option value="เลย">เลย </option>
                    <option value="ศรีสะเกษ">ศรีสะเกษ</option>
                    <option value="สกลนคร">สกลนคร</option>
                    <option value="สงขลา">สงขลา </option>
                    <option value="สมุทรสาคร">สมุทรสาคร </option>
                    <option value="สมุทรปราการ">สมุทรปราการ </option>
                    <option value="สมุทรสงคราม">สมุทรสงคราม </option>
                    <option value="สระแก้ว">สระแก้ว </option>
                    <option value="สระบุรี">สระบุรี </option>
                    <option value="สิงห์บุรี">สิงห์บุรี </option>
                    <option value="สุโขทัย">สุโขทัย </option>
                    <option value="สุพรรณบุรี">สุพรรณบุรี </option>
                    <option value="สุราษฎร์ธานี">สุราษฎร์ธานี </option>
                    <option value="สุรินทร์">สุรินทร์ </option>
                    <option value="สตูล">สตูล </option>
                    <option value="หนองคาย">หนองคาย </option>
                    <option value="หนองบัวลำภู">หนองบัวลำภู </option>
                    <option value="อำนาจเจริญ">อำนาจเจริญ </option>
                    <option value="อุดรธานี">อุดรธานี </option>
                    <option value="อุตรดิตถ์">อุตรดิตถ์ </option>
                    <option value="อุทัยธานี">อุทัยธานี </option>
                    <option value="อุบลราชธานี">อุบลราชธานี</option>
                    <option value="อ่างทอง">อ่างทอง </option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="inputZip">Zip</label>
                  <input type="text" class="form-control" name="zip" id="inputZip">
                </div>
              </div>


          </div>
        </div>
        <!-- Card -->

      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-lg-4">

        <!-- Card -->
        <div class="card mb-3">
          <div class="card-body">

            <h5 class="mb-3">Total amount</h5>

            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                Temporary amount
                <span>
                  ฿<%= totalSum%> 
                </span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                Shipping
                <span>Gratis</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                <div>
                  <strong>The total amount of</strong>
                  <strong>
                    <p class="mb-0">(including VAT)</p>
                  </strong>
                </div>
                <span><strong>฿<%= totalSum%></strong></span>
              </li>
            </ul>
            <button type="submit" class="btn btn-success col-12">Order</button>
          </div>
        </div>
        <!-- Card -->
        </form>


        <!-- Card -->
        <div class="card mb-3">
          <div class="card-body">

            <h5 class="mb-4">Expected shipping delivery</h5>
            <!-- Thu., 12.03. - Mon., 16.03. -->
            <p class="mb-0">
              <%= new Date(24 * 3600 * 1000*3) %>
            </p>
          </div>
        </div>
        <!-- Card -->

        <!-- Card -->
        <div class="card mb-3">
          <div class="card-body">

            <a class="dark-grey-text d-flex justify-content-between" data-toggle="collapse" href="#collapseExample1"
              aria-expanded="false" aria-controls="collapseExample1">
              Add a discount code (optional)
              <span><i class="fas fa-chevron-down pt-1"></i></span>
            </a>

            <div class="collapse" id="collapseExample1">
              <div class="mt-3">
                <div class="md-form md-outline mb-0">
                  <input type="text" id="discount-code1" class="form-control font-weight-light"
                    placeholder="Enter discount code">
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Card -->

      </div>
      <!--Grid column-->

    </div>
    <!--Grid row-->

  </section>
  <!--Section: Block Content-->



  <!-- include footer -->
  <%- include('../include/_footer') %>
    <!-- /include footer -->